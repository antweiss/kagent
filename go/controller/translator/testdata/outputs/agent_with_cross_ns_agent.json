{
  "config": {
    "agent_card": {
      "capabilities": {
        "pushNotifications": false,
        "stateTransitionHistory": true,
        "streaming": true
      },
      "defaultInputModes": [
        "text"
      ],
      "defaultOutputModes": [
        "text"
      ],
      "description": "An agent that uses another agent from a different namespace",
      "name": "agent-with-cross-ns-agent",
      "skills": null,
      "url": "http://agent-with-cross-ns-agent.test-consumer.svc.cluster.local:8080",
      "version": ""
    },
    "agents": [
      {
        "agent_card": {
          "capabilities": {
            "pushNotifications": false,
            "stateTransitionHistory": true,
            "streaming": true
          },
          "defaultInputModes": [
            "text"
          ],
          "defaultOutputModes": [
            "text"
          ],
          "description": "A provider agent with vector memory",
          "name": "provider-agent",
          "skills": null,
          "url": "http://provider-agent.test-provider.svc.cluster.local:8080",
          "version": ""
        },
        "agents": null,
        "description": "A provider agent with vector memory",
        "http_tools": null,
        "instruction": "You are a provider assistant with access to memory.",
        "kagent_url": "http://kagent.kagent.svc.cluster.local:8083",
        "model": {
          "base_url": "",
          "model": "gpt-4o",
          "type": "openai"
        },
        "name": "test_provider__NS__provider_agent",
        "sse_tools": null
      }
    ],
    "description": "An agent that uses another agent from a different namespace",
    "http_tools": null,
    "instruction": "You are an assistant that can delegate to other agents.",
    "kagent_url": "http://kagent.kagent.svc.cluster.local:8083",
    "model": {
      "base_url": "",
      "model": "gpt-3.5-turbo",
      "type": "openai"
    },
    "name": "test_consumer__NS__agent_with_cross_ns_agent",
    "sse_tools": null
  },
  "configHash": 3607371593514745300,
  "configMap": {
    "apiVersion": "v1",
    "data": {
      "config.json": "{\"kagent_url\":\"http://kagent.kagent.svc.cluster.local:8083\",\"agent_card\":{\"name\":\"agent-with-cross-ns-agent\",\"description\":\"An agent that uses another agent from a different namespace\",\"url\":\"http://agent-with-cross-ns-agent.test-consumer.svc.cluster.local:8080\",\"version\":\"\",\"capabilities\":{\"streaming\":true,\"pushNotifications\":false,\"stateTransitionHistory\":true},\"defaultInputModes\":[\"text\"],\"defaultOutputModes\":[\"text\"],\"skills\":[]},\"name\":\"test_consumer__NS__agent_with_cross_ns_agent\",\"model\":{\"base_url\":\"\",\"model\":\"gpt-3.5-turbo\",\"type\":\"openai\"},\"description\":\"An agent that uses another agent from a different namespace\",\"instruction\":\"You are an assistant that can delegate to other agents.\",\"http_tools\":null,\"sse_tools\":null,\"agents\":[{\"kagent_url\":\"http://kagent.kagent.svc.cluster.local:8083\",\"agent_card\":{\"name\":\"provider-agent\",\"description\":\"A provider agent with vector memory\",\"url\":\"http://provider-agent.test-provider.svc.cluster.local:8080\",\"version\":\"\",\"capabilities\":{\"streaming\":true,\"pushNotifications\":false,\"stateTransitionHistory\":true},\"defaultInputModes\":[\"text\"],\"defaultOutputModes\":[\"text\"],\"skills\":[]},\"name\":\"test_provider__NS__provider_agent\",\"model\":{\"base_url\":\"\",\"model\":\"gpt-4o\",\"type\":\"openai\"},\"description\":\"A provider agent with vector memory\",\"instruction\":\"You are a provider assistant with access to memory.\",\"http_tools\":null,\"sse_tools\":null,\"agents\":null}]}"
    },
    "kind": "ConfigMap",
    "metadata": {
      "creationTimestamp": null,
      "labels": {
        "app": "kagent",
        "config.kagent.dev/hash": "3607371593514745370",
        "kagent": "agent-with-cross-ns-agent",
        "version": "v1alpha1"
      },
      "name": "agent-with-cross-ns-agent",
      "namespace": "test-consumer",
      "ownerReferences": [
        {
          "apiVersion": "kagent.dev/v1alpha1",
          "blockOwnerDeletion": true,
          "controller": true,
          "kind": "Agent",
          "name": "agent-with-cross-ns-agent",
          "uid": ""
        }
      ]
    }
  },
  "deployment": {
    "apiVersion": "apps/v1",
    "kind": "Deployment",
    "metadata": {
      "creationTimestamp": null,
      "labels": {
        "app": "kagent",
        "config.kagent.dev/hash": "3607371593514745370",
        "kagent": "agent-with-cross-ns-agent",
        "version": "v1alpha1"
      },
      "name": "agent-with-cross-ns-agent",
      "namespace": "test-consumer",
      "ownerReferences": [
        {
          "apiVersion": "kagent.dev/v1alpha1",
          "blockOwnerDeletion": true,
          "controller": true,
          "kind": "Agent",
          "name": "agent-with-cross-ns-agent",
          "uid": ""
        }
      ]
    },
    "spec": {
      "replicas": 1,
      "selector": {
        "matchLabels": {
          "app": "kagent",
          "kagent": "agent-with-cross-ns-agent",
          "version": "v1alpha1"
        }
      },
      "strategy": {},
      "template": {
        "metadata": {
          "creationTimestamp": null,
          "labels": {
            "app": "kagent",
            "config.kagent.dev/hash": "3607371593514745370",
            "kagent": "agent-with-cross-ns-agent",
            "version": "v1alpha1"
          },
          "name": "agent-with-cross-ns-agent",
          "namespace": "test-consumer"
        },
        "spec": {
          "containers": [
            {
              "command": [
                "uv",
                "run",
                "kagent",
                "static",
                "--host",
                "0.0.0.0",
                "--port",
                "8080",
                "--filepath",
                "/config/config.json"
              ],
              "env": [
                {
                  "name": "KAGENT_NAMESPACE",
                  "valueFrom": {
                    "fieldRef": {
                      "fieldPath": "metadata.namespace"
                    }
                  }
                },
                {
                  "name": "OPENAI_API_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "key": "api-key",
                      "name": "test-provider/openai-secret"
                    }
                  }
                }
              ],
              "image": "cr.kagent.dev/kagent-dev/kagent/app:dev",
              "imagePullPolicy": "IfNotPresent",
              "name": "kagent",
              "ports": [
                {
                  "containerPort": 8080,
                  "name": "http"
                }
              ],
              "readinessProbe": {
                "httpGet": {
                  "path": "/health",
                  "port": "http"
                },
                "initialDelaySeconds": 15,
                "periodSeconds": 3
              },
              "resources": {},
              "volumeMounts": [
                {
                  "mountPath": "/config",
                  "name": "config"
                }
              ]
            }
          ],
          "volumes": [
            {
              "configMap": {
                "name": "agent-with-cross-ns-agent"
              },
              "name": "config"
            }
          ]
        }
      }
    },
    "status": {}
  },
  "service": {
    "apiVersion": "v1",
    "kind": "Service",
    "metadata": {
      "creationTimestamp": null,
      "labels": {
        "app": "kagent",
        "config.kagent.dev/hash": "3607371593514745370",
        "kagent": "agent-with-cross-ns-agent",
        "version": "v1alpha1"
      },
      "name": "agent-with-cross-ns-agent",
      "namespace": "test-consumer",
      "ownerReferences": [
        {
          "apiVersion": "kagent.dev/v1alpha1",
          "blockOwnerDeletion": true,
          "controller": true,
          "kind": "Agent",
          "name": "agent-with-cross-ns-agent",
          "uid": ""
        }
      ]
    },
    "spec": {
      "ports": [
        {
          "name": "http",
          "port": 8080,
          "targetPort": 8080
        }
      ],
      "selector": {
        "app": "kagent",
        "kagent": "agent-with-cross-ns-agent",
        "version": "v1alpha1"
      },
      "type": "ClusterIP"
    },
    "status": {
      "loadBalancer": {}
    }
  }
}